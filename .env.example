# ==============================================================================
# APPLICATION CONFIGURATION
# ==============================================================================

# Server Configuration
PORT=8080
HOST=0.0.0.0
ENVIRONMENT=development

# Logging
LOG_LEVEL=INFO


# ==============================================================================
# DATABASE CONFIGURATION (PostgreSQL)
# ==============================================================================

# Database connection settings
DB_HOST=localhost
DB_PORT=5432
DB_NAME=agents_db
DB_USER=postgres
DB_PASSWORD=postgres

# Session Management
# Set to 'true' to enable persistent database-backed conversation sessions
# When false, sessions are ephemeral (in-memory only, destroyed after request)
PERSIST_SESSIONS=false


# ==============================================================================
# GOOGLE CLOUD PLATFORM (GCP)
# ==============================================================================

# GCP Project Configuration
GOOGLE_CLOUD_PROJECT=your-project-id
GOOGLE_CLOUD_LOCATION=us-east4

# Service Account Authentication (optional, auto-detected in Cloud Run)
GOOGLE_APPLICATION_CREDENTIALS=/path/to/service-account-key.json

# Vertex AI Configuration
# Set to TRUE to use Vertex AI instead of Google AI API
GOOGLE_GENAI_USE_VERTEXAI=TRUE

# Note: GOOGLE_API_KEY is not required when using Vertex AI


# ==============================================================================
# MICROSOFT AZURE AD / ENTRA ID AUTHENTICATION
# ==============================================================================

# Azure AD Application Registration
# Get these from: https://portal.azure.com → Azure AD → App Registrations
AZURE_TENANT_ID=your-azure-tenant-id-guid
AZURE_CLIENT_ID=8f932a37-a7f6-4fe8-be5e-a72ab69758cf
AZURE_CLIENT_SECRET=your-azure-client-secret

# OAuth2 Web Authentication Configuration
# Callback URL: Where Microsoft redirects after login
AZURE_REDIRECT_URI=https://grupodc-agent-backend-dev-118078450167.us-east4.run.app/api/v1/auth/callback

# Frontend Application URL
# Used for post-login redirects
FRONTEND_URL=http://localhost:5173

# JWT Secret Key (for signing OAuth2 web tokens)
# IMPORTANT: Generate a strong random secret for production
# Example: openssl rand -base64 32
JWT_SECRET_KEY=your-secret-key-CHANGE-IN-PRODUCTION


# ==============================================================================
# MICROSOFT GRAPH API (Optional)
# ==============================================================================
# Note: Usually these should be the SAME as AZURE_* credentials above
# Only set these if you're using a DIFFERENT app registration for Graph API

# GRAPH_TENANT_ID=your-azure-tenant-id-guid
# GRAPH_CLIENT_ID=8f932a37-a7f6-4fe8-be5e-a72ab69758cf
# GRAPH_CLIENT_SECRET=your-azure-client-secret


# ==============================================================================
# DEPLOYMENT NOTES
# ==============================================================================
#
# For LOCAL DEVELOPMENT:
# - Copy this file to .env
# - Update the values with your local configuration
# - Make sure .env is in .gitignore (never commit secrets!)
#
# For CLOUD RUN DEPLOYMENT:
# - Set environment variables via Cloud Console or gcloud CLI
# - Required variables:
#   * GOOGLE_CLOUD_PROJECT (auto-set by Cloud Run)
#   * GOOGLE_CLOUD_LOCATION (auto-set by Cloud Run)
#   * AZURE_TENANT_ID
#   * AZURE_CLIENT_ID
#   * AZURE_CLIENT_SECRET (store in Secret Manager)
#   * AZURE_REDIRECT_URI
#   * FRONTEND_URL
#   * JWT_SECRET_KEY (store in Secret Manager)
#
# Example gcloud command:
# gcloud run services update SERVICE_NAME \
#   --region=us-east4 \
#   --update-env-vars="AZURE_TENANT_ID=xxx,AZURE_CLIENT_ID=xxx,JWT_SECRET_KEY=xxx,..."
#
